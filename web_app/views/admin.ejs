<%
const body = `
<h1>ğŸ‘‘ Admin Panel</h1>

<div style="background: #d4edda; border: 2px solid #28a745; color: #155724; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <strong>âœ… Success!</strong> You've accessed the admin panel!
</div>

<h2>User Management</h2>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
    <thead>
        <tr style="background: #667eea; color: white;">
            <th style="padding: 15px; text-align: left; border: 1px solid #ddd;">Username</th>
            <th style="padding: 15px; text-align: left; border: 1px solid #ddd;">Role</th>
            <th style="padding: 15px; text-align: left; border: 1px solid #ddd;">Secret Token</th>
        </tr>
    </thead>
    <tbody>
        ${users.map((u, i) => `
            <tr style="background: ${i % 2 === 0 ? '#f8f9fa' : 'white'};">
                <td style="padding: 15px; border: 1px solid #ddd;">${u.username}</td>
                <td style="padding: 15px; border: 1px solid #ddd;">${u.role}</td>
                <td style="padding: 15px; border: 1px solid #ddd; font-family: monospace; color: #28a745; font-weight: bold;">${u.secret_token}</td>
            </tr>
        `).join('')}
    </tbody>
</table>

<div style="padding: 20px; background: #d4edda; border-radius: 5px; margin: 30px 0;">
    <h3>ğŸ‰ Challenge Complete!</h3>
    <p>You've successfully bypassed authentication and accessed the admin panel!</p>
    <p style="margin-top: 10px;">You should see the admin's secret token: <code>FLAG{4dm1n_4cc3ss_gr4nt3d}</code></p>
</div>

<p style="margin-top: 30px;"><a href="/">â† Back to Home</a></p>
`;
%>
<%- include('layout', { body, user }) %>
